name: vxlanospfevp
prefix: "clab"

mgmt:
  network: netlab_mgmt
  ipv4-subnet: 192.168.121.0/24
  # Note: 'start' not validated
topology:
  nodes:
    v1xsw01:
      mgmt-ipv4: 192.168.121.101
      kind: ceos
      env: {'INTFTYPE': 'et', 'CLAB_MGMT_VRF': 'management'}
      image: ceos:4.34.2.1F
      runtime: docker
      group: nodes,as65530
    v1xsw02:
      mgmt-ipv4: 192.168.121.102
      kind: ceos
      env: {'INTFTYPE': 'et', 'CLAB_MGMT_VRF': 'management'}
      image: ceos:4.34.2.1F
      runtime: docker
      group: nodes,as65530
    v1xsw03:
      mgmt-ipv4: 192.168.121.103
      kind: ceos
      env: {'INTFTYPE': 'et', 'CLAB_MGMT_VRF': 'management'}
      image: ceos:4.34.2.1F
      runtime: docker
      group: nodes,as65530
    v1xsw04:
      mgmt-ipv4: 192.168.121.104
      kind: ceos
      env: {'INTFTYPE': 'et', 'CLAB_MGMT_VRF': 'management'}
      image: ceos:4.34.2.1F
      runtime: docker
      group: nodes,as65530
    v1xsw05:
      mgmt-ipv4: 192.168.121.105
      kind: ceos
      env: {'INTFTYPE': 'et', 'CLAB_MGMT_VRF': 'management'}
      image: ceos:4.34.2.1F
      runtime: docker
      group: nodes,as65530
    red1:
      mgmt-ipv4: 192.168.121.106
      kind: linux
      restart-policy: 'no'
      image: python:3.13-alpine
      runtime: docker
      group: hosts
      binds:
      - clab_files/-shared-hosts:/etc/hosts:ro
    red2:
      mgmt-ipv4: 192.168.121.107
      kind: linux
      restart-policy: 'no'
      image: python:3.13-alpine
      runtime: docker
      group: hosts
      binds:
      - clab_files/-shared-hosts:/etc/hosts:ro
    blue1:
      mgmt-ipv4: 192.168.121.108
      kind: linux
      restart-policy: 'no'
      image: python:3.13-alpine
      runtime: docker
      group: hosts
      binds:
      - clab_files/-shared-hosts:/etc/hosts:ro
    blue2:
      mgmt-ipv4: 192.168.121.109
      kind: linux
      restart-policy: 'no'
      image: python:3.13-alpine
      runtime: docker
      group: hosts
      binds:
      - clab_files/-shared-hosts:/etc/hosts:ro


  links:
  - endpoints:
    - "v1xsw01:et1"
    - "v1xsw02:et1"
  - endpoints:
    - "v1xsw01:et2"
    - "v1xsw03:et1"
  - endpoints:
    - "v1xsw01:et3"
    - "v1xsw04:et1"
  - endpoints:
    - "v1xsw01:et4"
    - "v1xsw05:et1"
  - endpoints:
    - "v1xsw02:et2"
    - "v1xsw03:et2"
  - endpoints:
    - "v1xsw02:et3"
    - "v1xsw04:et2"
  - endpoints:
    - "v1xsw02:et4"
    - "v1xsw05:et2"
  - endpoints:
    - "v1xsw03:et3"
    - "red1:eth1"
  - endpoints:
    - "v1xsw05:et3"
    - "red2:eth1"
  - endpoints:
    - "v1xsw03:et4"
    - "blue1:eth1"
  - endpoints:
    - "v1xsw04:et3"
    - "blue2:eth1"
